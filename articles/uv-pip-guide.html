<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>使用 uv pip 管理项目环境：Python 开发新选择 - JJasonSun</title>
    <meta name="post:meta" content='{"title":"使用 uv pip 管理项目环境：Python 开发新选择","date":"2026-01-06","summary":"uv 是一款极速的 Python 包管理工具，本文讲解如何用 uv 的 pip 接口创建 .venv、安装依赖并保持环境干净。","link":"articles/uv-pip-guide.html"}'>
    <!-- Tailwind CSS with Typography Plugin -->
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.10/dist/full.min.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Prism.js CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-okaidia.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.css">
    
    <style>
        /* Custom animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .animate-fade-in-up {
            animation: fadeInUp 0.8s ease-out forwards;
        }

        /* Gradient text */
        .gradient-text {
            background: linear-gradient(135deg, #3498db 0%, #2c3e50 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Smooth scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: oklch(var(--b2));
        }
        
        ::-webkit-scrollbar-thumb {
            background: oklch(var(--p) / 0.5);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: oklch(var(--p) / 0.8);
        }

        /* TOC Active State */
        #toc a.active {
            color: oklch(var(--p));
            border-left: 2px solid oklch(var(--p));
            background-color: oklch(var(--p) / 0.1);
        }
    </style>
</head>
<body class="min-h-screen bg-base-200 flex flex-col">

    <!-- 导航栏 -->
    <div class="navbar bg-base-100/80 backdrop-blur-md shadow-sm sticky top-0 z-50 border-b border-base-200">
        <div class="navbar-start">
            <div class="dropdown">
                <div tabindex="0" role="button" class="btn btn-ghost lg:hidden">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h8m-8 6h16" /></svg>
                </div>
                <ul tabindex="0" class="menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow-lg bg-base-100 rounded-box w-52">
                    <li><a href="../index.html" class="flex items-center gap-2"><i class="fas fa-home w-4"></i>首页</a></li>
                    <li><a href="../about.html" class="flex items-center gap-2"><i class="fas fa-user w-4"></i>关于我</a></li>
                    <li><a href="../index.html#blog" class="flex items-center gap-2"><i class="fas fa-blog w-4"></i>博客</a></li>
                    <li><a href="../index.html#contact" class="flex items-center gap-2"><i class="fas fa-envelope w-4"></i>联系方式</a></li>
                </ul>
            </div>
            <a href="../index.html" class="btn btn-ghost text-xl font-bold">
                <span class="gradient-text">JJasonSun</span>
            </a>
        </div>
        <div class="navbar-center hidden lg:flex">
            <ul class="menu menu-horizontal px-1 font-medium gap-1">
                <li><a href="../index.html" class="rounded-lg hover:bg-primary/10 hover:text-primary transition-all">首页</a></li>
                <li><a href="../about.html" class="rounded-lg hover:bg-primary/10 hover:text-primary transition-all">关于我</a></li>
                <li><a href="../index.html#blog" class="rounded-lg hover:bg-primary/10 hover:text-primary transition-all">博客</a></li>
                <li><a href="../index.html#contact" class="rounded-lg hover:bg-primary/10 hover:text-primary transition-all">联系方式</a></li>
            </ul>
        </div>
        <div class="navbar-end">
             <!-- Theme Controller -->
             <label class="swap swap-rotate btn btn-ghost btn-circle hover:bg-primary/10">
                <input type="checkbox" class="theme-controller" value="dark" />
                <svg class="swap-on fill-current w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"/></svg>
                <svg class="swap-off fill-current w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"/></svg>
            </label>
        </div>
    </div>

    <!-- 主体内容 -->
    <div class="container mx-auto px-4 py-8 flex-grow max-w-7xl animate-fade-in-up">
        <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
            <!-- 左侧：文章内容 -->
            <div class="lg:col-span-3">
                <div class="bg-base-100 rounded-2xl shadow-xl p-8 md:p-12 mb-8 border border-base-content/5">
                    
                    <!-- 面包屑 -->
                    <div class="text-sm breadcrumbs mb-6 text-base-content/60">
                        <ul>
                            <li><a href="../index.html" class="hover:text-primary">首页</a></li>
                            <li><a href="../index.html#blog" class="hover:text-primary">博客</a></li>
                            <li>正文</li>
                        </ul>
                    </div>

                    <header class="mb-10 border-b border-base-200 pb-8">
                        <h1 class="text-3xl md:text-5xl font-extrabold mb-6 leading-relaxed text-base-content">
                            使用 uv pip 管理项目环境：<br>
                            <span class="text-primary">Python 开发新选择</span>
                        </h1>
                        <div class="flex flex-wrap items-center gap-6 text-sm text-base-content/70">
                            <span class="flex items-center gap-2 bg-base-200 px-3 py-1 rounded-full">
                                <i class="far fa-calendar-alt text-primary"></i> 2026-01-06
                            </span>
                            <span class="flex items-center gap-2 bg-base-200 px-3 py-1 rounded-full">
                                <i class="far fa-folder text-primary"></i> Python 工具
                            </span>
                        </div>
                    </header>

                    <!-- Article Content -->
                    <article class="article-content prose prose-lg max-w-none 
                        prose-headings:text-base-content prose-headings:font-bold 
                        prose-p:text-base-content/80 prose-li:text-base-content/80
                        prose-pre:bg-[#272822] prose-pre:p-0 prose-pre:rounded-xl prose-pre:shadow-lg
                        prose-strong:text-primary">
                        
                        <!-- Callout Info -->
                        <div role="alert" class="alert bg-info/10 border-info/20 shadow-sm mb-8 not-prose flex items-start gap-4">
                            <i class="fas fa-info-circle text-info text-2xl mt-1"></i>
                            <div>
                                <h3 class="font-bold text-info text-lg mb-2">核心逻辑</h3>
                                <div class="text-sm text-base-content/80">
                                    <p class="mb-2"><strong>uv 分为两种使用模式：</strong></p>
                                    <ul class="list-disc list-inside space-y-1 ml-2">
                                        <li><strong>「项目模式」</strong>：默认用 pyproject.toml 管理依赖（适合需要打包、共享的项目）；</li>
                                        <li><strong>「无配置模式」</strong>：用 uv pip 命令，完全兼容 pip 语法，不用任何配置文件（适合机器学习、快速实验类项目）。</li>
                                    </ul>
                                    <p class="mt-3 font-mono bg-base-100 inline-block px-2 py-1 rounded border border-base-200 text-xs">流程简述：.venv + requirements.txt + uv pip install</p>
                                </div>
                            </div>
                        </div>

                        <h2>无 Python 安装 UV</h2>
                        
                        <h3>在线一键脚本（最省事）</h3>
                        <pre><code class="language-powershell"># 1. 设置环境变量（注意末尾的斜杠不能少）
# export GITHUB_MIRROR=https://mirror.ghproxy.com/

# 2. 验证变量是否生效
# echo $GITHUB_MIRROR  # 应输出 https://mirror.ghproxy.com/

# 官方安装脚本会自动把可执行文件放到 ~/.cargo/bin 并写 PATH
curl -LsSf https://astral.sh/uv/install.sh | sh
source ~/.cargo/env      # 让当前终端立即生效
uv --version             # 验证</code></pre>

                        <pre><code class="language-powershell"># 以管理员权限打开 PowerShell，执行
powershell -ExecutionPolicy ByPass -c "irm https://astral.sh/uv/install.ps1 | iex"
# 安装程序会把 uv.exe 放到 C:\Users\<你>\.local\bin
# 按提示把该目录加进 PATH 后，重新打开终端
uv --version</code></pre>

                        <p>全程不需要 Python，脚本里已经附带对应平台的二进制包 。</p>

                        <h3>离线手动下载（内网 / 机器没 curl）</h3>
                        <ol>
                            <li>在能上网的电脑打开 <a href="https://github.com/astral-sh/uv/releases/latest" target="_blank" class="link link-primary">https://github.com/astral-sh/uv/releases/latest</a> 根据系统下载对应压缩包，例如
                                <ul>
                                    <li>Windows 10+ 64bit → <code>uv-x86_64-pc-windows-msvc.zip</code></li>
                                    <li>Linux x86_64 → <code>uv-x86_64-unknown-linux-gnu.tar.gz</code></li>
                                    <li>macOS Apple Silicon → <code>uv-aarch64-apple-darwin.tar.gz</code></li>
                                </ul>
                            </li>
                            <li>解压后得到单文件 <code>uv</code>（或 <code>uv.exe</code>），把它放到
                                <ul>
                                    <li>Windows：<code>C:\Users\<你>\.local\bin\</code></li>
                                    <li>Linux/macOS：<code>~/.local/bin/</code> 或 <code>/usr/local/bin/</code></li>
                                </ul>
                                并确保该目录已在系统 PATH。
                            </li>
                            <li>终端执行
                                <pre><code class="language-powershell">uv --version</code></pre>
                            </li>
                        </ol>

                        <p>装完就能直接管理 Python 版本与虚拟环境</p>

                        <pre><code class="language-powershell"># 让 uv 自己下载一个 Python 解释器
uv python install 3.12

# 建虚拟环境
uv venv --python 3.12

# 装包
uv pip install requests

# 运行脚本
uv run python your_script.py</code></pre>

                        <p>全程无需系统里先装 Python，uv 会自动下载所需解释器 。</p>

                        <div class="divider text-base-content/20"></div>

                        <h2>初始化：为项目创建 .venv 虚拟环境</h2>
                        <h3>在项目根目录</h3>
                        <pre><code class="language-powershell">uv venv 
# 或者
uv venv --python 3.12 # 省略路径时，uv 默认使用 .venv 这个名字，即建在当前目录下的 .venv/ 里
# 或者 
uv venv --python 3.12 new_env # 把环境建在当前目录下的 new_env/ 文件夹里（名字任你取）</code></pre>

                        <p><strong>说明：</strong></p>
                        <ul>
                            <li>这会在当前目录下新建一个 .venv（只对这个项目生效）。</li>
                            <li>以后所有 Python 相关操作，都通过 <code>uv</code> 调用 .venv，不需要自己 <code>activate</code>。</li>
                        </ul>

                        <h3>UV 虚拟环境的本质</h3>
                        
                        <div role="alert" class="alert bg-warning/10 border-warning/20 shadow-sm mb-8 not-prose flex items-start gap-4">
                            <i class="fas fa-exclamation-triangle text-warning text-2xl mt-1"></i>
                            <div>
                                <h3 class="font-bold text-warning text-lg mb-2">注意</h3>
                                <div class="text-sm text-base-content/80">
                                    <p class="mb-2"><code>uv</code> 创建的虚拟环境 <strong>不包含 Python 解释器本身</strong>，只记录了 <strong>绝对路径</strong> 指向原来的解释器</p>
                                    <ul class="list-disc list-inside space-y-1 ml-2">
                                        <li>如果使用<code>uv venv</code>，只要不带 --python <版本>，uv 就会按 <code>PATH</code> 顺序找系统里已安装的任何 Python（官方安装包、Miniconda、MS Store…都可），找到第一个就拿来用，在 <code>pyvenv.cfg</code> 里写下它的路径。这里不会触发下载，也不会去 uv 自己的“工具箱”里翻。</li>
                                        <li>如果使用<code>uv venv --python 3.12</code>，uv 会先看自己“工具箱”里有没有 <strong>通过 <code>uv python install</code> 下载的 3.12</strong>（<code>~/.local/share/uv/python/python-3.12.*</code> 或 Windows 的 <code>%LOCALAPPDATA%\uv\data\python\...</code>），如果找到了，就直接把虚拟环境指向这一份 <strong>便携版 3.12</strong>；找不到就自动去下载，再指向它。</li>
                                        <li>所以本质上<code>uv</code>在<code>.venv</code>里管理的只有当前项目的依赖包，而<code>Python</code>全部安装在<code>UV</code>统一管理的 Python 路径（<code>%LOCALAPPDATA%\uv\data\python</code>）中，<code>uv</code>会自动生成快捷方式来指向你想要的版本的<code>Python</code></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        
                        <div class="divider text-base-content/20"></div>

                        <h2>安装和维护依赖（核心三件事）</h2>
                        <h3>首次安装依赖</h3>
                        <p>直接用 <code>uv pip install</code> 往 .venv 里装包：</p>

                        <pre><code class="language-powershell">uv pip install pymysql requests beautifulsoup4 neo4j
uv pip install -r requirements.txt</code></pre>

                        <ul>
                            <li><code>uv</code> 会自动使用你刚才创建的 .venv，无需手动激活。</li>
                        </ul>

                        <div role="alert" class="alert bg-warning/10 border-warning/20 shadow-sm mb-8 not-prose flex items-start gap-4">
                             <i class="fas fa-exclamation-triangle text-warning text-2xl mt-1"></i>
                            <div>
                                <h3 class="font-bold text-warning text-lg mb-2">警告</h3>
                                <div class="text-sm text-base-content/80">
                                    <p><code>uv pip install</code> 只把包装进 <strong>当前虚拟环境</strong> 的 <code>site-packages</code> 目录，<strong>不会</strong> 动到那个“真正的”Python 解释器所在目录。</p>
                                    <p class="mt-2">换句话说：<br>
                                    虚拟环境 → 独立仓库<br>
                                    系统 Python → 独立仓库</p>
                                    <p class="mt-1">两边互不干扰；删掉虚拟环境，系统 Python 依旧干净。</p>
                                </div>
                            </div>
                        </div>
                        
                        <p>安装完成后可以测试一下：</p>

                        <pre><code class="language-powershell">uv run python -c "import pymysql, requests, bs4, neo4j; print('imports ok')"</code></pre>

                        <p><strong>这也是使用 UV 跑一小段代码的方式</strong></p>

                        <h3>导出或更新 requirements.txt</h3>
                        <p>当你对依赖比较满意时，把当前环境“冻结”下来：</p>

                        <pre><code class="language-powershell">uv pip freeze > requirements.txt</code></pre>

                    </article>
                    
                    <div class="mt-12 pt-8 border-t border-base-200">
                        <a href="../index.html#blog" class="btn btn-outline btn-primary gap-2 hover:scale-105 transition-transform"><i class="fas fa-arrow-left"></i> 返回文章列表</a>
                        <div class="mt-6 p-4 bg-base-200/50 rounded-xl text-center text-sm text-base-content/60">
                            觉得有帮助？欢迎分享给你的朋友！
                        </div>
                    </div>
                </div>
            </div>

            <!-- 右侧：目录 (Sticky) -->
            <div class="hidden lg:block lg:col-span-1">
                <div class="sticky top-24">
                     <div class="toc-content bg-base-100 rounded-2xl shadow-lg p-6 max-h-[calc(100vh-8rem)] overflow-y-auto border border-base-content/5">
                        <h3 class="font-bold text-lg mb-4 pb-2 border-b border-base-200 flex items-center gap-2">
                            <i class="fas fa-list-ul text-primary"></i> 文章目录
                        </h3>
                        <nav id="toc" class="text-sm space-y-1">
                            <!-- TOC logic in script.js will populate this -->
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer footer-center p-8 bg-base-300 text-base-content border-t border-base-200 mt-auto">
        <aside>
            <p class="text-sm">
                <i class="far fa-copyright"></i> 2024 JJasonSun. All Rights Reserved.
            </p>
            <p class="text-xs text-base-content/50 mt-2">
                Built with <i class="fas fa-heart text-red-500"></i> using Tailwind CSS & DaisyUI
            </p>
        </aside>
    </footer>

    <!-- Scripts -->
    <!-- Important: script.js might need to be robust about paths. -->
    <script src="../js/script.js"></script>
    
    <!-- Prism.js Autoloader -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script>
</body>
</html>